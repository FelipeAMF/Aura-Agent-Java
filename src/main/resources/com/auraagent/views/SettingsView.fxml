<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Text?>

<ScrollPane fitToWidth="true" styleClass="scroll-pane"
            xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.auraagent.controllers.SettingsController">
    <VBox spacing="20" style="-fx-padding: 20;">
        <GridPane hgap="20">
            <columnConstraints>
                <ColumnConstraints hgrow="SOMETIMES" percentWidth="50.0" minWidth="350"/>
                <ColumnConstraints hgrow="SOMETIMES" percentWidth="50.0" minWidth="350"/>
            </columnConstraints>
            
            <VBox styleClass="central-panel" spacing="10" GridPane.columnIndex="0">
                <Label text="Contas de WhatsApp:" styleClass="panel-title"/>
                <Separator/>
                <ListView fx:id="accountsListView" VBox.vgrow="ALWAYS" prefHeight="500"/>
                <GridPane hgap="10">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS"/>
                        <ColumnConstraints hgrow="ALWAYS"/>
                    </columnConstraints>
                    <Button text="Adicionar Conta" onAction="#handleAddAccount" styleClass="primary-button" maxWidth="Infinity"/>
                    <Button text="Desconectar Conta" onAction="#handleDisconnectAccount" styleClass="danger-button" maxWidth="Infinity" GridPane.columnIndex="1"/>
                </GridPane>
            </VBox>

            <VBox styleClass="central-panel" spacing="20" alignment="CENTER" GridPane.columnIndex="1">
                <Label text="QR Code para ConexÃ£o" styleClass="panel-title"/>
                <Separator/>
                <StackPane VBox.vgrow="ALWAYS">
                    <Pane style="-fx-background-color: white; -fx-background-radius: 8;"/>
                    <ImageView fx:id="qrCodeImageView" fitHeight="300" fitWidth="300" preserveRatio="true"/>
                    <Text fx:id="qrStatusText" text="Selecione ou adicione uma conta." textAlignment="CENTER" wrappingWidth="280.0"/>
                </StackPane>
            </VBox>
        </GridPane>
    </VBox>
</ScrollPane>